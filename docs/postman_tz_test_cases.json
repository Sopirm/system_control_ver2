{
  "info": {
    "name": "–°–∏—Å—Ç–µ–º–∞ –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ó–∞–¥–∞—á–∞–º–∏ - –¢–µ—Å—Ç-–∫–µ–π—Å—ã –¢–ó",
    "description": "–°—Ç—Ä–æ–≥–æ –ø–æ —Ç–µ—Å—Ç-–∫–µ–π—Å–∞–º –∏–∑ –¢–ó: –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä –¥–ª—è –æ—Ü–µ–Ω–æ–∫ 3-4-5",
    "version": "1.0.0",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:8080",
      "type": "string"
    },
    {
      "key": "testUserEmail",
      "value": "",
      "type": "string"
    },
    {
      "key": "testUser2Email",
      "value": "",
      "type": "string"
    },
    {
      "key": "userToken",
      "value": "",
      "type": "string"
    },
    {
      "key": "user2Token",
      "value": "",
      "type": "string"
    },
    {
      "key": "userId",
      "value": "",
      "type": "string"
    },
    {
      "key": "user2Id",
      "value": "",
      "type": "string"
    },
    {
      "key": "orderId",
      "value": "",
      "type": "string"
    },
    {
      "key": "user2OrderId",
      "value": "",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "üë§ –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–ò (–æ—Ü–µ–Ω–∫–∞ 3)",
      "item": [
        {
          "name": "‚úÖ –£—Å–ø–µ—à–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å –≤–∞–ª–∏–¥–Ω—ã–º–∏ –ø–æ–ª—è–º–∏",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "// –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —É–Ω–∏–∫–∞–ª—å–Ω—ã–π email",
                  "const timestamp = Date.now();",
                  "const email = `tz_user_${timestamp}@test.com`;",
                  "pm.collectionVariables.set('testUserEmail', email);"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// –¢–ó: –æ–∂–∏–¥–∞–µ–º —Å—Ç–∞—Ç—É—Å —É—Å–ø–µ—Ö –∏ —Å–æ–∑–¥–∞–Ω–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä",
                  "pm.test('üéØ –¢–ó: –°—Ç–∞—Ç—É—Å —É—Å–ø–µ—Ö', function () {",
                  "    pm.response.to.have.status(201);",
                  "    const response = pm.response.json();",
                  "    pm.expect(response.success).to.equal(true, '–ü–æ–ª–µ success –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å true');",
                  "});",
                  "",
                  "pm.test('üéØ –¢–ó: –°–æ–∑–¥–∞–Ω–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç', function () {",
                  "    const response = pm.response.json();",
                  "    pm.expect(response.data).to.have.property('id');",
                  "    pm.expect(response.data.id).to.not.be.empty;",
                  "    ",
                  "    // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ñ–æ—Ä–º–∞—Ç UUID",
                  "    const uuidRegex = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;",
                  "    pm.expect(response.data.id).to.match(uuidRegex, 'ID –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ UUID');",
                  "    ",
                  "    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö —Ç–µ—Å—Ç–æ–≤",
                  "    pm.collectionVariables.set('userId', response.data.id);",
                  "});",
                  "",
                  "pm.test('üéØ –¢–ó: –í–∞–ª–∏–¥–Ω—ã–µ –ø–æ–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã', function () {",
                  "    const response = pm.response.json();",
                  "    pm.expect(response.data.email).to.equal(pm.collectionVariables.get('testUserEmail'));",
                  "    pm.expect(response.data.name).to.equal('–¢–ó –¢–µ—Å—Ç –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å');",
                  "    pm.expect(response.data.roles).to.include('user');",
                  "});",
                  "",
                  "console.log('‚úÖ –¢–ó –¢–µ—Å—Ç 1/9: –£—Å–ø–µ—à–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è - –ü–†–û–ô–î–ï–ù');"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Request-ID",
                "value": "tz-test-{{$guid}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"{{testUserEmail}}\",\n  \"password\": \"TestPassword123!\",\n  \"name\": \"–¢–ó –¢–µ—Å—Ç –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/v1/users/register",
              "host": ["{{baseUrl}}"],
              "path": ["v1", "users", "register"]
            }
          }
        },
        {
          "name": "‚ùå –ü–æ–≤—Ç–æ—Ä–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å —Ç–æ–π –∂–µ –ø–æ—á—Ç–æ–π",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// –¢–ó: –æ–∂–∏–¥–∞–µ–º –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º—É—é –æ—à–∏–±–∫—É",
                  "pm.test('üéØ –¢–ó: –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–∞—è –æ—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏', function () {",
                  "    pm.response.to.have.status(409); // Conflict",
                  "    const response = pm.response.json();",
                  "    pm.expect(response.success).to.equal(false, '–ü—Ä–∏ –æ—à–∏–±–∫–µ success –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å false');",
                  "});",
                  "",
                  "pm.test('üéØ –¢–ó: –û—à–∏–±–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–Ω—è—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ', function () {",
                  "    const response = pm.response.json();",
                  "    pm.expect(response).to.have.property('error');",
                  "    pm.expect(response.error).to.have.property('code');",
                  "    pm.expect(response.error).to.have.property('message');",
                  "    pm.expect(response.error.message.toLowerCase()).to.include('email');",
                  "});",
                  "",
                  "pm.test('üéØ –¢–ó: –î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –ø—Ä–∏ –æ—à–∏–±–∫–µ', function () {",
                  "    const response = pm.response.json();",
                  "    pm.expect(response.data).to.be.undefined;",
                  "});",
                  "",
                  "console.log('‚úÖ –¢–ó –¢–µ—Å—Ç 2/9: –ü–æ–≤—Ç–æ—Ä–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è - –ü–†–û–ô–î–ï–ù');"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Request-ID",
                "value": "tz-test-{{$guid}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"{{testUserEmail}}\",\n  \"password\": \"TestPassword123!\",\n  \"name\": \"–î—Ä—É–≥–æ–π –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/v1/users/register",
              "host": ["{{baseUrl}}"],
              "path": ["v1", "users", "register"]
            }
          }
        },
        {
          "name": "‚úÖ –í—Ö–æ–¥ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// –¢–ó: –æ–∂–∏–¥–∞–µ–º –≤—ã–¥–∞—á—É —Ç–æ–∫–µ–Ω–∞",
                  "pm.test('üéØ –¢–ó: –£—Å–ø–µ—à–Ω—ã–π –≤—Ö–æ–¥', function () {",
                  "    if (pm.response.code !== 200) {",
                  "        console.log('–û—à–∏–±–∫–∞ –≤—Ö–æ–¥–∞:', pm.response.json());",
                  "        console.log('–ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–π email:', pm.collectionVariables.get('testUserEmail'));",
                  "    }",
                  "    pm.response.to.have.status(200);",
                  "    const response = pm.response.json();",
                  "    pm.expect(response.success).to.equal(true, '–ü—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –≤—Ö–æ–¥–µ success –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å true');",
                  "});",
                  "",
                  "pm.test('üéØ –¢–ó: –í—ã–¥–∞—á–∞ —Ç–æ–∫–µ–Ω–∞', function () {",
                  "    const response = pm.response.json();",
                  "    pm.expect(response.data).to.have.property('token');",
                  "    pm.expect(response.data.token).to.not.be.empty;",
                  "    ",
                  "    // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ñ–æ—Ä–º–∞—Ç JWT (3 —á–∞—Å—Ç–∏ —Ä–∞–∑–¥–µ–ª–µ–Ω–Ω—ã–µ —Ç–æ—á–∫–∞–º–∏)",
                  "    const tokenParts = response.data.token.split('.');",
                  "    pm.expect(tokenParts).to.have.lengthOf(3, 'JWT —Ç–æ–∫–µ–Ω –¥–æ–ª–∂–µ–Ω —Å–æ—Å—Ç–æ—è—Ç—å –∏–∑ 3 —á–∞—Å—Ç–µ–π');",
                  "    ",
                  "    // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–æ–∫–µ–Ω –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö —Ç–µ—Å—Ç–æ–≤",
                  "    pm.collectionVariables.set('userToken', response.data.token);",
                  "});",
                  "",
                  "pm.test('üéØ –¢–ó: –¢–æ–∫–µ–Ω —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è', function () {",
                  "    const response = pm.response.json();",
                  "    pm.expect(response.data).to.have.property('user');",
                  "    pm.expect(response.data.user.id).to.equal(pm.collectionVariables.get('userId'));",
                  "    pm.expect(response.data.user.email).to.equal(pm.collectionVariables.get('testUserEmail'));",
                  "});",
                  "",
                  "console.log('‚úÖ –¢–ó –¢–µ—Å—Ç 3/9: –í—Ö–æ–¥ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ - –ü–†–û–ô–î–ï–ù');"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Request-ID",
                "value": "tz-test-{{$guid}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"{{testUserEmail}}\",\n  \"password\": \"TestPassword123!\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/v1/users/login",
              "host": ["{{baseUrl}}"],
              "path": ["v1", "users", "login"]
            }
          }
        },
        {
          "name": "‚ùå –î–æ—Å—Ç—É–ø –∫ –∑–∞—â–∏—â—ë–Ω–Ω–æ–º—É –ø—É—Ç–∏ –±–µ–∑ —Ç–æ–∫–µ–Ω–∞",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// –¢–ó: –æ–∂–∏–¥–∞–µ–º –æ—Ç–∫–∞–∑",
                  "pm.test('üéØ –¢–ó: –û—Ç–∫–∞–∑ –≤ –¥–æ—Å—Ç—É–ø–µ –±–µ–∑ —Ç–æ–∫–µ–Ω–∞', function () {",
                  "    pm.response.to.have.status(401); // Unauthorized",
                  "});",
                  "",
                  "pm.test('üéØ –¢–ó: –û—à–∏–±–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–Ω—è—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ', function () {",
                  "    const response = pm.response.json();",
                  "    pm.expect(response).to.have.property('error');",
                  "    pm.expect(response.error).to.include('—Ç–æ–∫–µ–Ω');",
                  "});",
                  "",
                  "pm.test('üéØ –¢–ó: –ó–∞—â–∏—â–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è', function () {",
                  "    const response = pm.response.json();",
                  "    pm.expect(response.data).to.be.undefined;",
                  "});",
                  "",
                  "console.log('‚úÖ –¢–ó –¢–µ—Å—Ç 4/9: –î–æ—Å—Ç—É–ø –±–µ–∑ —Ç–æ–∫–µ–Ω–∞ - –ü–†–û–ô–î–ï–ù');"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "GET",
            "header": [
              {
                "key": "X-Request-ID",
                "value": "tz-test-{{$guid}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/v1/users/profile",
              "host": ["{{baseUrl}}"],
              "path": ["v1", "users", "profile"]
            }
          }
        }
      ],
      "description": "–¢–µ—Å—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å–æ–≥–ª–∞—Å–Ω–æ –¢–ó –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ—Ü–µ–Ω–∫–∏ 3"
    },
    {
      "name": "üì¶ –ó–ê–ö–ê–ó–´ + –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–ò (–æ—Ü–µ–Ω–∫–∞ 4)",
      "item": [
        {
          "name": "‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// –¢–ó: –æ–∂–∏–¥–∞–µ–º —É—Å–ø–µ—Ö –∏ —Å—Ç–∞—Ç—É—Å —Å–æ–∑–¥–∞–Ω",
                  "pm.test('üéØ –¢–ó: –£—Å–ø–µ—à–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞', function () {",
                  "    pm.response.to.have.status(201); // Created",
                  "    const response = pm.response.json();",
                  "    pm.expect(response.success).to.equal(true, '–ü—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º —Å–æ–∑–¥–∞–Ω–∏–∏ success –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å true');",
                  "});",
                  "",
                  "pm.test('üéØ –¢–ó: –°—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞ \"—Å–æ–∑–¥–∞–Ω\"', function () {",
                  "    const response = pm.response.json();",
                  "    pm.expect(response.data).to.have.property('status', '—Å–æ–∑–¥–∞–Ω', '–ù–æ–≤—ã–π –∑–∞–∫–∞–∑ –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å —Å—Ç–∞—Ç—É—Å \"—Å–æ–∑–¥–∞–Ω\"');",
                  "});",
                  "",
                  "pm.test('üéØ –¢–ó: –ó–∞–∫–∞–∑ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é', function () {",
                  "    const response = pm.response.json();",
                  "    pm.expect(response.data).to.have.property('user_id');",
                  "    pm.expect(response.data.user_id).to.equal(pm.collectionVariables.get('userId'), '–ó–∞–∫–∞–∑ –¥–æ–ª–∂–µ–Ω –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é');",
                  "    ",
                  "    // –°–æ—Ö—Ä–∞–Ω—è–µ–º ID –∑–∞–∫–∞–∑–∞ –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö —Ç–µ—Å—Ç–æ–≤",
                  "    pm.collectionVariables.set('orderId', response.data.id);",
                  "});",
                  "",
                  "pm.test('üéØ –¢–ó: –ó–∞–∫–∞–∑ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–æ–ª—è', function () {",
                  "    const response = pm.response.json();",
                  "    const order = response.data;",
                  "    ",
                  "    pm.expect(order).to.have.property('id');",
                  "    pm.expect(order).to.have.property('items');",
                  "    pm.expect(order).to.have.property('total_sum');",
                  "    pm.expect(order).to.have.property('created_at');",
                  "    pm.expect(order.items).to.be.an('array');",
                  "    pm.expect(order.items).to.have.lengthOf(2);",
                  "});",
                  "",
                  "console.log('‚úÖ –¢–ó –¢–µ—Å—Ç 5/9: –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞ - –ü–†–û–ô–î–ï–ù');"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{userToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Request-ID",
                "value": "tz-test-{{$guid}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"items\": [\n    {\n      \"product\": \"–¢–ó –¢–µ—Å—Ç –ü—Ä–æ–¥—É–∫—Ç 1\",\n      \"quantity\": 2,\n      \"price\": 1000.00\n    },\n    {\n      \"product\": \"–¢–ó –¢–µ—Å—Ç –ü—Ä–æ–¥—É–∫—Ç 2\",\n      \"quantity\": 1,\n      \"price\": 500.00\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/v1/orders",
              "host": ["{{baseUrl}}"],
              "path": ["v1", "orders"]
            }
          }
        },
        {
          "name": "‚ùå –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞ –±–µ–∑ —Ç–æ–∫–µ–Ω–∞ (–æ–∂–∏–¥–∞–µ–º 401)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// –¢–ó: –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞ –±–µ–∑ —Ç–æ–∫–µ–Ω–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∑–∞–ø—Ä–µ—â–µ–Ω–æ",
                  "pm.test('üéØ –¢–ó: –û—Ç–∫–∞–∑ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–∫–∞–∑–∞ –±–µ–∑ —Ç–æ–∫–µ–Ω–∞', function () {",
                  "    pm.response.to.have.status(401);",
                  "});",
                  "",
                  "pm.test('üéØ –¢–ó: –û—à–∏–±–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–Ω—è—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ', function () {",
                  "    const response = pm.response.json();",
                  "    pm.expect(response).to.have.property('error');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Request-ID",
                "value": "tz-test-{{$guid}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"items\": [\n    {\n      \"product\": \"–¢–ó –¢–µ—Å—Ç –ü—Ä–æ–¥—É–∫—Ç 1\",\n      \"quantity\": 2,\n      \"price\": 1000.00\n    },\n    {\n      \"product\": \"–¢–ó –¢–µ—Å—Ç –ü—Ä–æ–¥—É–∫—Ç 2\",\n      \"quantity\": 1,\n      \"price\": 500.00\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/v1/orders",
              "host": ["{{baseUrl}}"],
              "path": ["v1", "orders"]
            }
          }
        },
        {
          "name": "‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–≤–æ–µ–≥–æ –∑–∞–∫–∞–∑–∞",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// –¢–ó: –æ–∂–∏–¥–∞–µ–º —É—Å–ø–µ—Ö",
                  "pm.test('üéØ –¢–ó: –£—Å–ø–µ—à–Ω–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–≤–æ–µ–≥–æ –∑–∞–∫–∞–∑–∞', function () {",
                  "    pm.response.to.have.status(200);",
                  "    const response = pm.response.json();",
                  "    pm.expect(response.success).to.equal(true, '–ü—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –ø–æ–ª—É—á–µ–Ω–∏–∏ success –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å true');",
                  "});",
                  "",
                  "pm.test('üéØ –¢–ó: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –∑–∞–∫–∞–∑', function () {",
                  "    const response = pm.response.json();",
                  "    pm.expect(response.data).to.have.property('id', pm.collectionVariables.get('orderId'), '–î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å—Å—è –∑–∞–∫–∞–∑ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º ID');",
                  "    pm.expect(response.data).to.have.property('user_id', pm.collectionVariables.get('userId'), '–ó–∞–∫–∞–∑ –¥–æ–ª–∂–µ–Ω –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç—å —Ç–µ–∫—É—â–µ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é');",
                  "});",
                  "",
                  "pm.test('üéØ –¢–ó: –ó–∞–∫–∞–∑ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –¥–µ—Ç–∞–ª–∏', function () {",
                  "    const response = pm.response.json();",
                  "    const order = response.data;",
                  "    ",
                  "    pm.expect(order).to.have.property('status', '—Å–æ–∑–¥–∞–Ω');",
                  "    pm.expect(order).to.have.property('items');",
                  "    pm.expect(order).to.have.property('total_sum', 2500);",
                  "    pm.expect(order.items).to.be.an('array');",
                  "    pm.expect(order.items).to.have.lengthOf(2);",
                  "});",
                  "",
                  "console.log('‚úÖ –¢–ó –¢–µ—Å—Ç 6/9: –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–≤–æ–µ–≥–æ –∑–∞–∫–∞–∑–∞ - –ü–†–û–ô–î–ï–ù');"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{userToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [
              {
                "key": "X-Request-ID",
                "value": "tz-test-{{$guid}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/v1/orders/{{orderId}}",
              "host": ["{{baseUrl}}"],
              "path": ["v1", "orders", "{{orderId}}"]
            }
          }
        },
        {
          "name": "‚úÖ –°–ø–∏—Å–æ–∫ —Å–≤–æ–∏—Ö –∑–∞–∫–∞–∑–æ–≤ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// –¢–ó: –æ–∂–∏–¥–∞–µ–º –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –ø–æ–ª—è –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏—é –ø–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º",
                  "pm.test('üéØ –¢–ó: –£—Å–ø–µ—à–Ω–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∑–∞–∫–∞–∑–æ–≤', function () {",
                  "    pm.response.to.have.status(200);",
                  "    const response = pm.response.json();",
                  "    pm.expect(response.success).to.equal(true, '–ü—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –ø–æ–ª—É—á–µ–Ω–∏–∏ success –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å true');",
                  "});",
                  "",
                  "pm.test('üéØ –¢–ó: –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –ø–æ–ª—è —Å–ø–∏—Å–∫–∞', function () {",
                  "    const response = pm.response.json();",
                  "    pm.expect(response.data, '–î–æ–ª–∂–µ–Ω –±—ã—Ç—å –º–∞—Å—Å–∏–≤ –∑–∞–∫–∞–∑–æ–≤').to.have.property('orders');",
                  "    pm.expect(response.data, '–î–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ').to.have.property('total');",
                  "    pm.expect(response.data, '–î–æ–ª–∂–µ–Ω –±—ã—Ç—å –ª–∏–º–∏—Ç').to.have.property('limit');",
                  "    pm.expect(response.data, '–î–æ–ª–∂–µ–Ω –±—ã—Ç—å offset').to.have.property('offset');",
                  "    ",
                  "    pm.expect(response.data.orders).to.be.an('array');",
                  "    pm.expect(response.data.total).to.be.a('number');",
                  "    pm.expect(response.data.limit).to.be.a('number');",
                  "    pm.expect(response.data.offset).to.be.a('number');",
                  "});",
                  "",
                  "pm.test('üéØ –¢–ó: –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º (–ø–∞–≥–∏–Ω–∞—Ü–∏—è)', function () {",
                  "    const response = pm.response.json();",
                  "    ",
                  "    // –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –∑–∞–ø—Ä–æ—Å—É",
                  "    pm.expect(response.data.limit).to.equal(10, '–õ–∏–º–∏—Ç –¥–æ–ª–∂–µ–Ω —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—É');",
                  "    pm.expect(response.data.offset).to.equal(0, 'Offset –¥–æ–ª–∂–µ–Ω —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—É');",
                  "    ",
                  "    // –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ –µ—Å—Ç—å —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω –∑–∞–∫–∞–∑ (–Ω–∞—à —Å–æ–∑–¥–∞–Ω–Ω—ã–π)",
                  "    pm.expect(response.data.total).to.be.at.least(1, '–î–æ–ª–∂–µ–Ω –±—ã—Ç—å –º–∏–Ω–∏–º—É–º –æ–¥–∏–Ω –∑–∞–∫–∞–∑');",
                  "    ",
                  "    // –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ –Ω–∞—à –∑–∞–∫–∞–∑ –µ—Å—Ç—å –≤ —Å–ø–∏—Å–∫–µ",
                  "    const orderIds = response.data.orders.map(o => o.id);",
                  "    pm.expect(orderIds).to.include(pm.collectionVariables.get('orderId'), '–ù–∞—à –∑–∞–∫–∞–∑ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ —Å–ø–∏—Å–∫–µ');",
                  "});",
                  "",
                  "pm.test('üéØ –¢–ó: –í—Å–µ –∑–∞–∫–∞–∑—ã –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç —Ç–µ–∫—É—â–µ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é', function () {",
                  "    const response = pm.response.json();",
                  "    const currentUserId = pm.collectionVariables.get('userId');",
                  "    ",
                  "    response.data.orders.forEach((order, index) => {",
                  "        pm.expect(order.user_id).to.equal(currentUserId, `–ó–∞–∫–∞–∑ ${index + 1} –¥–æ–ª–∂–µ–Ω –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç—å —Ç–µ–∫—É—â–µ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é`);",
                  "    });",
                  "});",
                  "",
                  "console.log('‚úÖ –¢–ó –¢–µ—Å—Ç 7/9: –°–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π - –ü–†–û–ô–î–ï–ù');"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{userToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [
              {
                "key": "X-Request-ID",
                "value": "tz-test-{{$guid}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/v1/orders?limit=10&offset=0",
              "host": ["{{baseUrl}}"],
              "path": ["v1", "orders"],
              "query": [
                {
                  "key": "limit",
                  "value": "10"
                },
                {
                  "key": "offset",
                  "value": "0"
                }
              ]
            }
          }
        }
      ],
      "description": "–¢–µ—Å—Ç—ã –∑–∞–∫–∞–∑–æ–≤ + –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å–æ–≥–ª–∞—Å–Ω–æ –¢–ó –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ—Ü–µ–Ω–∫–∏ 4"
    },
    {
      "name": "üîí –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨ (–æ—Ü–µ–Ω–∫–∞ 5)",
      "item": [
        {
          "name": "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞: –°–æ–∑–¥–∞–Ω–∏–µ –≤—Ç–æ—Ä–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "// –°–æ–∑–¥–∞–µ–º –≤—Ç–æ—Ä–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è —Ç–µ—Å—Ç–æ–≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏",
                  "const timestamp = Date.now();",
                  "const email = `tz_user2_${timestamp}@test.com`;",
                  "pm.collectionVariables.set('testUser2Email', email);"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('–í—Ç–æ—Ä–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–Ω', function () {",
                  "    pm.response.to.have.status(201);",
                  "    const response = pm.response.json();",
                  "    pm.collectionVariables.set('user2Id', response.data.id);",
                  "});",
                  "",
                  "console.log('üîß –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞: –í—Ç–æ—Ä–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–Ω');"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Request-ID",
                "value": "tz-test-{{$guid}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"{{testUser2Email}}\",\n  \"password\": \"TestPassword123!\",\n  \"name\": \"–¢–ó –í—Ç–æ—Ä–æ–π –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/v1/users/register",
              "host": ["{{baseUrl}}"],
              "path": ["v1", "users", "register"]
            }
          }
        },
        {
          "name": "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞: –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –≤—Ç–æ—Ä–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('–í—Ç–æ—Ä–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω', function () {",
                  "    pm.response.to.have.status(200);",
                  "    const response = pm.response.json();",
                  "    pm.collectionVariables.set('user2Token', response.data.token);",
                  "});",
                  "",
                  "console.log('üîß –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞: –í—Ç–æ—Ä–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω');"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Request-ID",
                "value": "tz-test-{{$guid}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"{{testUser2Email}}\",\n  \"password\": \"TestPassword123!\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/v1/users/login",
              "host": ["{{baseUrl}}"],
              "path": ["v1", "users", "login"]
            }
          }
        },
        {
          "name": "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞: –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞ –≤—Ç–æ—Ä—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('–ó–∞–∫–∞–∑ –≤—Ç–æ—Ä–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å–æ–∑–¥–∞–Ω', function () {",
                  "    pm.response.to.have.status(201);",
                  "    const response = pm.response.json();",
                  "    pm.collectionVariables.set('user2OrderId', response.data.id);",
                  "});",
                  "",
                  "console.log('üîß –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞: –ó–∞–∫–∞–∑ –≤—Ç–æ—Ä–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å–æ–∑–¥–∞–Ω');"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{user2Token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Request-ID",
                "value": "tz-test-{{$guid}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"items\": [\n    {\n      \"product\": \"–ß—É–∂–æ–π –ø—Ä–æ–¥—É–∫—Ç\",\n      \"quantity\": 1,\n      \"price\": 800.00\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/v1/orders",
              "host": ["{{baseUrl}}"],
              "path": ["v1", "orders"]
            }
          }
        },
        {
          "name": "‚ùå –ü–æ–ø—ã—Ç–∫–∞ –æ–±–Ω–æ–≤–∏—Ç—å —á—É–∂–æ–π –∑–∞–∫–∞–∑",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// –¢–ó: –æ–∂–∏–¥–∞–µ–º –æ—Ç–∫–∞–∑",
                  "pm.test('üéØ –¢–ó: –û—Ç–∫–∞–∑ –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –æ–±–Ω–æ–≤–∏—Ç—å —á—É–∂–æ–π –∑–∞–∫–∞–∑', function () {",
                  "    // –ï—Å–ª–∏ –Ω–µ—Ç —Ç–æ–∫–µ–Ω–∞, –±—É–¥–µ—Ç 401, –µ—Å–ª–∏ –µ—Å—Ç—å —Ç–æ–∫–µ–Ω –Ω–æ –Ω–µ –Ω–∞—à –∑–∞–∫–∞–∑ - 403 –∏–ª–∏ 404",
                  "    pm.expect([401, 403, 404]).to.include(pm.response.code);",
                  "});",
                  "",
                  "pm.test('üéØ –¢–ó: –û—à–∏–±–∫–∞ –¥–æ—Å—Ç—É–ø–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–Ω—è—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ', function () {",
                  "    const response = pm.response.json();",
                  "    pm.expect(response).to.have.property('error');",
                  "    // –î–ª—è –ø—Ä–æ—Å—Ç–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞ –æ—à–∏–±–∫–∏",
                  "    if (typeof response.error === 'string') {",
                  "        pm.expect(response.error.length).to.be.above(0);",
                  "    } else {",
                  "        pm.expect(response.error).to.have.property('message');",
                  "    }",
                  "});",
                  "",
                  "pm.test('üéØ –¢–ó: –ß—É–∂–æ–π –∑–∞–∫–∞–∑ –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è', function () {",
                  "    const response = pm.response.json();",
                  "    pm.expect(response.data).to.be.undefined;",
                  "});",
                  "",
                  "console.log('‚úÖ –¢–ó –¢–µ—Å—Ç 8/9: –ü–æ–ø—ã—Ç–∫–∞ –æ–±–Ω–æ–≤–∏—Ç—å —á—É–∂–æ–π –∑–∞–∫–∞–∑ - –ü–†–û–ô–î–ï–ù');"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{userToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Request-ID",
                "value": "tz-test-{{$guid}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"–≤ —Ä–∞–±–æ—Ç–µ\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/v1/orders/{{user2OrderId}}/status",
              "host": ["{{baseUrl}}"],
              "path": ["v1", "orders", "{{user2OrderId}}", "status"]
            }
          }
        },
        {
          "name": "‚úÖ –û—Ç–º–µ–Ω–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∑–∞–∫–∞–∑–∞",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// –¢–ó: –æ–∂–∏–¥–∞–µ–º —Å—Ç–∞—Ç—É—Å –æ—Ç–º–µ–Ω—ë–Ω –∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø–æ–±–æ—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤",
                  "pm.test('üéØ –¢–ó: –£—Å–ø–µ—à–Ω–∞—è –æ—Ç–º–µ–Ω–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∑–∞–∫–∞–∑–∞', function () {",
                  "    pm.response.to.have.status(200);",
                  "    const response = pm.response.json();",
                  "    pm.expect(response.success).to.equal(true, '–ü—Ä–∏ —É—Å–ø–µ—à–Ω–æ–π –æ—Ç–º–µ–Ω–µ success –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å true');",
                  "});",
                  "",
                  "pm.test('üéØ –¢–ó: –°—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞ \"–æ—Ç–º–µ–Ω—ë–Ω\"', function () {",
                  "    const response = pm.response.json();",
                  "    pm.expect(response.data).to.have.property('status', '–æ—Ç–º–µ–Ω—ë–Ω', '–°—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å \"–æ—Ç–º–µ–Ω—ë–Ω\"');",
                  "});",
                  "",
                  "pm.test('üéØ –¢–ó: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø–æ–±–æ—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤', function () {",
                  "    const response = pm.response.json();",
                  "    const order = response.data;",
                  "    ",
                  "    // –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ –æ—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–ª—è –∑–∞–∫–∞–∑–∞ –Ω–µ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å",
                  "    pm.expect(order.id).to.equal(pm.collectionVariables.get('orderId'), 'ID –∑–∞–∫–∞–∑–∞ –Ω–µ –¥–æ–ª–∂–µ–Ω –∏–∑–º–µ–Ω–∏—Ç—å—Å—è');",
                  "    pm.expect(order.user_id).to.equal(pm.collectionVariables.get('userId'), '–í–ª–∞–¥–µ–ª–µ—Ü –∑–∞–∫–∞–∑–∞ –Ω–µ –¥–æ–ª–∂–µ–Ω –∏–∑–º–µ–Ω–∏—Ç—å—Å—è');",
                  "    pm.expect(order.total_sum).to.equal(2500, '–°—É–º–º–∞ –∑–∞–∫–∞–∑–∞ –Ω–µ –¥–æ–ª–∂–Ω–∞ –∏–∑–º–µ–Ω–∏—Ç—å—Å—è');",
                  "    pm.expect(order.items).to.be.an('array', '–ü–æ–∑–∏—Ü–∏–∏ –∑–∞–∫–∞–∑–∞ –¥–æ–ª–∂–Ω—ã –æ—Å—Ç–∞—Ç—å—Å—è');",
                  "    pm.expect(order.items).to.have.lengthOf(2, '–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–∑–∏—Ü–∏–π –Ω–µ –¥–æ–ª–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å—Å—è');",
                  "});",
                  "",
                  "pm.test('üéØ –¢–ó: –í—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω—ã', function () {",
                  "    const response = pm.response.json();",
                  "    const order = response.data;",
                  "    ",
                  "    pm.expect(order).to.have.property('created_at');",
                  "    pm.expect(order).to.have.property('updated_at');",
                  "    ",
                  "    const createdAt = new Date(order.created_at);",
                  "    const updatedAt = new Date(order.updated_at);",
                  "    ",
                  "    pm.expect(updatedAt.getTime()).to.be.at.least(createdAt.getTime(), 'updated_at –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –±–æ–ª—å—à–µ –∏–ª–∏ —Ä–∞–≤–µ–Ω created_at');",
                  "});",
                  "",
                  "console.log('‚úÖ –¢–ó –¢–µ—Å—Ç 9/9: –û—Ç–º–µ–Ω–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∑–∞–∫–∞–∑–∞ - –ü–†–û–ô–î–ï–ù');"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{userToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "X-Request-ID",
                "value": "tz-test-{{$guid}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": {
              "raw": "{{baseUrl}}/v1/orders/{{orderId}}/cancel",
              "host": ["{{baseUrl}}"],
              "path": ["v1", "orders", "{{orderId}}", "cancel"]
            }
          }
        }
      ],
      "description": "–¢–µ—Å—Ç—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —Å–æ–≥–ª–∞—Å–Ω–æ –¢–ó –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ—Ü–µ–Ω–∫–∏ 5"
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "exec": [
          "// –ì–ª–æ–±–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è —Ç–µ—Å—Ç–æ–≤ –¢–ó",
          "console.log(`üìã –¢–ó –¢–µ—Å—Ç: ${pm.info.requestName}`);"
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "exec": [
          "// –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–ª—è –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤ –¢–ó",
          "pm.test('üìã –¢–ó: –í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞ –ø—Ä–∏–µ–º–ª–µ–º–æ', function () {",
          "    pm.expect(pm.response.responseTime).to.be.below(5000, '–í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –º–µ–Ω–µ–µ 5 —Å–µ–∫—É–Ω–¥');",
          "});",
          "",
          "pm.test('üìã –¢–ó: Content-Type –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π', function () {",
          "    if (pm.response.headers.has('Content-Type')) {",
          "        pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');",
          "    }",
          "});",
          "",
          "pm.test('üìã –¢–ó: –í–∞–ª–∏–¥–Ω—ã–π JSON –æ—Ç–≤–µ—Ç', function () {",
          "    pm.expect(() => pm.response.json()).to.not.throw();",
          "});",
          "",
          "// –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞",
          "const status = pm.response.code;",
          "const time = pm.response.responseTime;",
          "if (status >= 200 && status < 300) {",
          "    console.log(`‚úÖ ${pm.info.requestName}: ${status} (${time}ms)`);",
          "} else if (status >= 400) {",
          "    console.log(`‚ö†Ô∏è  ${pm.info.requestName}: ${status} (${time}ms) - –û–∂–∏–¥–∞–µ–º–∞—è –æ—à–∏–±–∫–∞`);",
          "}"
        ]
      }
    }
  ]
}
